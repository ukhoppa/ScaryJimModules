local HorseModule = require(path.to.HorseModule)
local HorseTab = Window:CreateTab("üêé Wild Horses")

-- Initial population
local horseButtons = {}
local function rebuildHorseButtons(horses)
	-- clear old buttons
	for _, btn in ipairs(horseButtons) do
		btn:Destroy()
	end
	horseButtons = {}

	for _, info in ipairs(horses) do
		local btn = HorseTab:CreateButton({
			Name = info.Name,
			Callback = info.Callback,
		})
		btn.Button.BackgroundColor3 = info.Color
		table.insert(horseButtons, btn)
	end
end

HorseModule.OnUpdate(rebuildHorseButtons)
rebuildHorseButtons(HorseModule.ScanHorses())
